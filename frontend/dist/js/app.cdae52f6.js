(function(){"use strict";var t={3742:function(t,e,s){var a=s(5130),r=s(6768);const o={id:"app"},n={class:"app-main"},c={class:"container"};function i(t,e,s,a,i,l){const d=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[e[0]||(e[0]=(0,r.Lk)("header",{class:"app-header"},[(0,r.Lk)("div",{class:"container"},[(0,r.Lk)("h1",null,"â±ï¸ Ð£Ñ‡Ñ‘Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ ")])],-1)),(0,r.Lk)("main",n,[(0,r.Lk)("div",c,[(0,r.bF)(d)])]),e[1]||(e[1]=(0,r.Lk)("footer",{class:"app-footer"},[(0,r.Lk)("div",{class:"container"},[(0,r.Lk)("p",null,"Â© 2025 Ð£Ñ‡Ñ‘Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸")])],-1))])}var l={name:"App"},d=s(1241);const h=(0,d.A)(l,[["render",i]]);var p=h,u=s(1387),k=(s(4114),s(4232));const m={class:"project-list"},T={class:"card"},f={class:"project-form"},j={class:"input-wrapper"},v=["disabled"],y={key:0,class:"card empty-state"},b={key:1},L={class:"projects-grid"},$=["onClick"],w={class:"project-header"},_={class:"project-time"},g={class:"project-created"};function E(t,e,s,o,n,c){return(0,r.uX)(),(0,r.CE)("div",m,[e[6]||(e[6]=(0,r.Lk)("div",{class:"header-card"},[(0,r.Lk)("div",{class:"header-content"},[(0,r.Lk)("h2",null,"ÐœÐ¾Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹"),(0,r.Lk)("p",null,"Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐ¹Ñ‚Ðµ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼Ð¸")])],-1)),(0,r.Lk)("div",T,[e[4]||(e[4]=(0,r.Lk)("h3",null,"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚",-1)),(0,r.Lk)("div",f,[(0,r.Lk)("div",j,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.newProjectName=t),placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°",class:"form-control project-input",onKeyup:e[1]||(e[1]=(0,a.jR)((...t)=>c.createProject&&c.createProject(...t),["enter"]))},null,544),[[a.Jo,n.newProjectName]])]),(0,r.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>c.createProject&&c.createProject(...t)),class:"btn btn-primary add-project-btn",disabled:!n.newProjectName.trim()},[...e[3]||(e[3]=[(0,r.Lk)("span",{class:"btn-icon"},"+",-1),(0,r.eW)(" Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ",-1)])],8,v)])]),0===t.projects.length?((0,r.uX)(),(0,r.CE)("div",y,[...e[5]||(e[5]=[(0,r.Lk)("div",{class:"empty-icon"},"ðŸ“",-1),(0,r.Lk)("h3",null,"ÐŸÐ¾ÐºÐ° Ð½ÐµÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",-1),(0,r.Lk)("p",null,"Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ",-1)])])):((0,r.uX)(),(0,r.CE)("div",b,[(0,r.Lk)("div",L,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t.projects,e=>((0,r.uX)(),(0,r.CE)("div",{key:e.id,class:"project-card card",onClick:s=>t.$router.push(`/project/${e.id}`)},[(0,r.Lk)("div",w,[(0,r.Lk)("h3",null,(0,k.v_)(e.name),1),(0,r.Lk)("span",_,(0,k.v_)(c.formatTime(e.total_time)),1)]),(0,r.Lk)("p",g,"Ð¡Ð¾Ð·Ð´Ð°Ð½: "+(0,k.v_)(c.formatDate(e.created_at)),1)],8,$))),128))])]))])}var P=s(782),C={name:"ProjectList",data(){return{newProjectName:""}},computed:{...(0,P.aH)(["projects"])},methods:{...(0,P.i0)(["createProject","fetchProjects"]),async createProject(){if(this.newProjectName.trim())try{await this.$store.dispatch("createProject",{name:this.newProjectName}),this.newProjectName="",this.$toast?this.$toast.success("ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!"):console.log("ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",t),this.$toast?this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚"):console.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚")}},formatTime(t){if(!t)return"0Ñ‡ 0Ð¼ 0Ñ";const e=Math.floor(t/3600),s=Math.floor(t%3600/60),a=Math.floor(t%60);return`${e}Ñ‡ ${s}Ð¼ ${a}Ñ`},formatDate(t){if(!t)return"ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð´Ð°Ñ‚Ð°";const e=new Date(t);return e.toLocaleDateString("ru-RU")}},async mounted(){try{await this.fetchProjects()}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²:",t),this.$toast?this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹"):console.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹")}}};const A=(0,d.A)(C,[["render",E],["__scopeId","data-v-1c1cdc57"]]);var S=A;const I={class:"project-detail"},O={class:"header-section"},x={class:"header-top"},R={class:"left-actions"},D={class:"header-actions"},X={class:"project-info-card"},U={class:"project-title"},M={class:"total-time"},N={class:"time"},K={key:0,class:"loading"},H={class:"card task-input-card"},J={class:"task-form"},W={class:"form-group full-width-input"},B=["disabled"],V={key:1,class:"card empty-state"},F={key:2},Q={class:"tasks-header"},q={class:"tasks-list"},z={class:"task-content"},G={class:"task-header"},Y={class:"task-time"},Z={class:"task-controls"},tt={class:"timer-controls"},et=["onClick","disabled"],st=["onClick"],at={key:0,class:"timer-active-indicator"},rt={class:"task-actions"},ot=["onClick"];function nt(t,e,s,o,n,c){return(0,r.uX)(),(0,r.CE)("div",I,[(0,r.Lk)("div",O,[(0,r.Lk)("div",x,[(0,r.Lk)("div",R,[(0,r.Lk)("button",{onClick:e[0]||(e[0]=e=>t.$router.push("/")),class:"btn back-btn"},"â† ÐÐ°Ð·Ð°Ð´ Ðº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼")]),(0,r.Lk)("div",D,[(0,r.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>c.exportToTxt&&c.exportToTxt(...t)),class:"btn btn-export"},[...e[7]||(e[7]=[(0,r.Lk)("span",{class:"btn-icon"},"ðŸ“„",-1),(0,r.eW)(" Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ TXT ",-1)])]),(0,r.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>c.copyToClipboard&&c.copyToClipboard(...t)),class:"btn btn-copy"},[...e[8]||(e[8]=[(0,r.Lk)("span",{class:"btn-icon"},"ðŸ“‹",-1),(0,r.eW)(" ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ñ‡ÐµÑ‚ ",-1)])]),(0,r.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>c.deleteProjectHandler&&c.deleteProjectHandler(...t)),class:"btn btn-danger"},[...e[9]||(e[9]=[(0,r.Lk)("span",{class:"btn-icon"},"ðŸ—‘ï¸",-1),(0,r.eW)(" Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ",-1)])])])]),(0,r.Lk)("div",X,[(0,r.Lk)("h2",U,(0,k.v_)(n.project.name),1),(0,r.Lk)("div",M,[e[10]||(e[10]=(0,r.Lk)("span",{class:"label"},"ÐžÐ±Ñ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",-1)),(0,r.Lk)("span",N,(0,k.v_)(c.formatTime(n.localTotalTime)),1)])])]),n.loading?((0,r.uX)(),(0,r.CE)("div",K,"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...")):(0,r.Q3)("",!0),(0,r.Lk)("div",H,[e[11]||(e[11]=(0,r.Lk)("h3",null,"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ",-1)),(0,r.Lk)("div",J,[(0,r.Lk)("div",W,[(0,r.bo)((0,r.Lk)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.newTaskTitle=t),placeholder:"ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾...",class:"form-control task-input",rows:"4",onKeyup:e[5]||(e[5]=(0,a.jR)((0,a.D$)((...t)=>c.addTask&&c.addTask(...t),["prevent"]),["enter"]))},"                    ",544),[[a.Jo,n.newTaskTitle]])]),(0,r.Lk)("button",{onClick:e[6]||(e[6]=(...t)=>c.addTask&&c.addTask(...t)),class:"btn btn-primary add-task-btn",disabled:!n.newTaskTitle.trim()}," + Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ ",8,B)])]),0===c.projectTasks.length?((0,r.uX)(),(0,r.CE)("div",V,[...e[12]||(e[12]=[(0,r.Lk)("div",{class:"empty-icon"},"ðŸ“",-1),(0,r.Lk)("h3",null,"ÐŸÐ¾ÐºÐ° Ð½ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡",-1),(0,r.Lk)("p",null,"Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",-1)])])):((0,r.uX)(),(0,r.CE)("div",F,[(0,r.Lk)("div",Q,[(0,r.Lk)("h3",null,"Ð—Ð°Ð´Ð°Ñ‡Ð¸ ("+(0,k.v_)(c.projectTasks.length)+")",1)]),(0,r.Lk)("div",q,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(c.projectTasks,t=>((0,r.uX)(),(0,r.CE)("div",{key:t.id,class:(0,k.C4)(["task-item card",{"task-active":t.is_timer_running}])},[(0,r.Lk)("div",z,[(0,r.Lk)("div",G,[(0,r.Lk)("h4",null,(0,k.v_)(t.title),1),(0,r.Lk)("span",Y,(0,k.v_)(c.formatTime(t.total_time)),1)]),(0,r.Lk)("div",Z,[(0,r.Lk)("div",tt,[t.is_timer_running?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:e=>c.pauseTaskTimer(t.id),class:"btn btn-pause"},[...e[14]||(e[14]=[(0,r.Lk)("span",{class:"btn-icon"},"â¸",-1),(0,r.eW)(" ÐŸÐ°ÑƒÐ·Ð° ",-1)])],8,st)):((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:e=>c.startTaskTimer(t.id),class:"btn btn-start",disabled:t.is_timer_running},[...e[13]||(e[13]=[(0,r.Lk)("span",{class:"btn-icon"},"â–¶",-1),(0,r.eW)(" Ð¡Ñ‚Ð°Ñ€Ñ‚ ",-1)])],8,et))]),t.is_timer_running?((0,r.uX)(),(0,r.CE)("div",at,[...e[15]||(e[15]=[(0,r.Lk)("span",{class:"pulse"},null,-1),(0,r.eW)(" Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½... ",-1)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",rt,[(0,r.Lk)("button",{onClick:e=>c.deleteTaskHandler(t.id),class:"btn btn-danger btn-sm"},[...e[16]||(e[16]=[(0,r.Lk)("span",{class:"btn-icon"},"ðŸ—‘ï¸",-1)])],8,ot)])])])],2))),128))])]))])}s(8111),s(2489),s(116),s(7588),s(8237),s(4603),s(7566),s(8721);var ct={name:"ProjectDetail",data(){return{newTaskTitle:"",project:{},updateInterval:null,loading:!0,debugMode:!1,localTotalTime:0}},computed:{...(0,P.aH)(["projects","tasks"]),...(0,P.L8)(["getTasksByProjectId"]),projectId(){return parseInt(this.$route.params.id)},projectTasks(){return this.getTasksByProjectId(this.projectId)}},watch:{projectTasks:{handler(t){this.localTotalTime=t.reduce((t,e)=>t+(e.total_time||0),0);const e=this.projects.findIndex(t=>t.id===this.projectId);-1!==e&&(this.$store.state.projects[e].total_time=this.localTotalTime)},deep:!0,immediate:!0}},methods:{...(0,P.i0)(["fetchProjects","fetchTasks","startTimer","pauseTimer","createTask","deleteProject","deleteTask"]),async addTask(){if(this.newTaskTitle.trim())try{await this.createTask({title:this.newTaskTitle,project_id:this.projectId}),this.newTaskTitle="",this.$toast&&this.$toast.success("Ð—Ð°Ð´Ð°Ñ‡Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð°!")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ")}},formatTime(t){if(!t)return"0Ñ‡ 0Ð¼ 0Ñ";const e=Math.floor(t/3600),s=Math.floor(t%3600/60),a=Math.floor(t%60);return`${e}Ñ‡ ${s}Ð¼ ${a}Ñ`},async startTaskTimer(t){try{await this.startTimer(t),this.$toast&&this.$toast.success("Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½")}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð¿ÑƒÑÐºÐ° Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°:",e),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð¹Ð¼ÐµÑ€")}},async pauseTaskTimer(t){try{await this.pauseTimer(t),this.$toast&&this.$toast.info("Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° Ð¿Ð°ÑƒÐ·Ðµ")}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°:",e),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð¹Ð¼ÐµÑ€")}},generateReportText(){let t=`ÐŸÑ€Ð¾ÐµÐºÑ‚: ${this.project.name}\n`;return t+=`ÐžÐ±Ñ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ: ${this.formatTime(this.localTotalTime)}\n`,t+=`Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾: ${(new Date).toLocaleString("ru-RU")}\n\n`,t+="Ð—Ð°Ð´Ð°Ñ‡Ð¸:\n",t+="=".repeat(50)+"\n\n",this.projectTasks.forEach((e,s)=>{t+=`${s+1}. ${e.title}\n`,t+=`   Ð’Ñ€ÐµÐ¼Ñ: ${this.formatTime(e.total_time)}\n`,t+=`   Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: ${e.is_timer_running?"Ð—Ð°Ð¿ÑƒÑ‰ÐµÐ½":"ÐÐ° Ð¿Ð°ÑƒÐ·Ðµ"}\n`,t+="-".repeat(30)+"\n"}),t},exportToTxt(){const t=this.generateReportText(),e=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(e),a=document.createElement("a");a.href=s,a.download=`${this.project.name.replace(/\s+/g,"_")}_Ð¾Ñ‚Ñ‡ÐµÑ‚.txt`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(s),this.$toast&&this.$toast.success("ÐžÑ‚Ñ‡ÐµÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½!")},async copyToClipboard(){try{const t=this.generateReportText();await navigator.clipboard.writeText(t),this.$toast&&this.$toast.success("ÐžÑ‚Ñ‡ÐµÑ‚ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°!")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ð±ÑƒÑ„ÐµÑ€:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°")}},async deleteProjectHandler(){if(confirm("Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚? Ð’ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð±ÑƒÐ´ÑƒÑ‚ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹."))try{await this.deleteProject(this.projectId),this.$toast&&this.$toast.success("ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÐ´Ð°Ð»ÐµÐ½"),this.$router.push("/")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚")}},async deleteTaskHandler(t){if(confirm("Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ?"))try{await this.deleteTask(t),this.$toast&&this.$toast.success("Ð—Ð°Ð´Ð°Ñ‡Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð°")}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",e),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ")}}},async mounted(){try{this.loading=!0,await this.fetchProjects(),await this.fetchTasks(),this.project=this.projects.find(t=>t.id===this.projectId)||{},console.log("ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹:",this.projects),console.log("Ð—Ð°Ð´Ð°Ñ‡Ð¸:",this.tasks),console.log("Ð—Ð°Ð´Ð°Ñ‡Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",this.projectTasks),this.updateInterval=setInterval(async()=>{const t=this.projectTasks.filter(t=>t.is_timer_running);t.length>0&&await this.fetchTasks()},1e3)}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°")}finally{this.loading=!1}},beforeUnmount(){this.updateInterval&&clearInterval(this.updateInterval)}};const it=(0,d.A)(ct,[["render",nt],["__scopeId","data-v-569df1fc"]]);var lt=it;const dt=[{path:"/",name:"Home",component:S},{path:"/project/:id",name:"ProjectDetail",component:lt,props:!0}],ht=(0,u.aE)({history:(0,u.LA)("/"),routes:dt});var pt=ht,ut=s(4373);const kt={NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_BASE_URL||"http://localhost:8000";var mt=(0,P.y$)({state:{projects:[],tasks:[],timeEntries:[]},mutations:{SET_PROJECTS(t,e){t.projects=e},SET_TASKS(t,e){t.tasks=e},SET_TIME_ENTRIES(t,e){t.timeEntries=e},ADD_PROJECT(t,e){t.projects.push(e)},ADD_TASK(t,e){t.tasks.push(e)}},actions:{async fetchProjects({commit:t}){try{const e=await ut.A.get(`${kt}/projects/`);t("SET_PROJECTS",e.data)}catch(e){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²:",e),e}},async createProject({commit:t},e){try{const s=await ut.A.post(`${kt}/projects/`,e);return t("ADD_PROJECT",s.data),s.data}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",s),s}},async fetchTasks({commit:t}){try{console.log("Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡ Ð¸Ð·:",`${kt}/tasks/`);const e=await ut.A.get(`${kt}/tasks/`);console.log("ÐžÑ‚Ð²ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡:",e.data),t("SET_TASKS",e.data)}catch(e){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð·Ð°Ð´Ð°Ñ‡:",e),e}},async createTask({commit:t},e){try{const s=await ut.A.post(`${kt}/tasks/`,e);return t("ADD_TASK",s.data),s.data}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",s),s}},async startTimer({dispatch:t},e){try{await ut.A.post(`${kt}/timer/start/${e}`),await t("fetchTasks")}catch(s){throw console.error("Error starting timer:",s),s}},async pauseTimer({dispatch:t},e){try{await ut.A.post(`${kt}/timer/pause/${e}`),await t("fetchTasks")}catch(s){throw console.error("Error pausing timer:",s),s}},async deleteProject({commit:t},e){try{await ut.A.delete(`${kt}/projects/${e}`),t("SET_PROJECTS",this.state.projects.filter(t=>t.id!==e))}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",s),s}},async deleteTask({commit:t},e){try{await ut.A.delete(`${kt}/tasks/${e}`),t("SET_TASKS",this.state.tasks.filter(t=>t.id!==e))}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",s),s}}},getters:{getTasksByProjectId:t=>e=>t.tasks.filter(t=>t.project_id===e),getActiveTimer:t=>e=>{const s=t.tasks.find(t=>t.id===e);return!!s&&s.is_timer_running}}}),Tt=s(7411);s(7917);const ft=(0,a.Ef)(p);ft.use(mt),ft.use(pt),ft.use(Tt.Ay,{transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0}),ft.mount("#app")}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var o=e[a]={exports:{}};return t[a].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,a,r,o){if(!a){var n=1/0;for(d=0;d<t.length;d++){a=t[d][0],r=t[d][1],o=t[d][2];for(var c=!0,i=0;i<a.length;i++)(!1&o||n>=o)&&Object.keys(s.O).every(function(t){return s.O[t](a[i])})?a.splice(i--,1):(c=!1,o<n&&(n=o));if(c){t.splice(d--,1);var l=r();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[a,r,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,o,n=a[0],c=a[1],i=a[2],l=0;if(n.some(function(e){return 0!==t[e]})){for(r in c)s.o(c,r)&&(s.m[r]=c[r]);if(i)var d=i(s)}for(e&&e(a);l<n.length;l++)o=n[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},a=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(3742)});a=s.O(a)})();
//# sourceMappingURL=app.cdae52f6.js.map