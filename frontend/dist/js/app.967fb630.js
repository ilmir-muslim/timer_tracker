(function(){"use strict";var t={4712:function(t,e,s){var r=s(5130),a=s(6768);const o={id:"app"},n={class:"app-header"},i={class:"container"},c={key:0,class:"nav"},l={key:1,class:"nav"},d={class:"app-main"},u={class:"container"};function h(t,e,s,r,h,p){const k=(0,a.g2)("router-link"),m=(0,a.g2)("router-view");return(0,a.uX)(),(0,a.CE)("div",o,[(0,a.Lk)("header",n,[(0,a.Lk)("div",i,[e[3]||(e[3]=(0,a.Lk)("h1",null,"â±ï¸ Ð£Ñ‡Ñ‘Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ ",-1)),e[4]||(e[4]=(0,a.Lk)("p",null,"Ð­Ñ„Ñ„ÐµÐºÑ‚Ð¸Ð²Ð½Ð¾ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð¹Ñ‚Ðµ Ð²Ñ€ÐµÐ¼Ñ Ð²Ð°ÑˆÐ¸Ñ… Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",-1)),t.$store.getters.isAuthenticated?((0,a.uX)(),(0,a.CE)("nav",c,[(0,a.Lk)("button",{onClick:e[0]||(e[0]=(...t)=>p.handleLogout&&p.handleLogout(...t)),class:"btn btn-logout"},"Ð’Ñ‹Ð¹Ñ‚Ð¸")])):((0,a.uX)(),(0,a.CE)("nav",l,[(0,a.bF)(k,{to:"/login",class:"nav-link"},{default:(0,a.k6)(()=>[...e[1]||(e[1]=[(0,a.eW)("Ð’Ð¾Ð¹Ñ‚Ð¸",-1)])]),_:1}),(0,a.bF)(k,{to:"/register",class:"nav-link"},{default:(0,a.k6)(()=>[...e[2]||(e[2]=[(0,a.eW)("Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",-1)])]),_:1})]))])]),(0,a.Lk)("main",d,[(0,a.Lk)("div",u,[(0,a.bF)(m)])]),e[5]||(e[5]=(0,a.Lk)("footer",{class:"app-footer"},[(0,a.Lk)("div",{class:"container"},[(0,a.Lk)("p",null,"Â© 2025 Ð£Ñ‡Ñ‘Ñ‚ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸")])],-1))])}s(4114);var p=s(782),k={name:"App",methods:{...(0,p.i0)(["logout"]),async handleLogout(){await this.logout(),this.$router.push("/login")}}},m=s(1241);const f=(0,m.A)(k,[["render",h]]);var T=f,v=(s(8111),s(3579),s(1387)),g=s(4232);const L={class:"project-list"},y={class:"card"},b={class:"project-form"},j={class:"input-wrapper"},w=["disabled"],$={key:0,class:"card empty-state"},_={key:1},E={class:"projects-grid"},C=["onClick"],P={class:"project-header"},A={class:"project-time"},S={class:"project-created"};function I(t,e,s,o,n,i){return(0,a.uX)(),(0,a.CE)("div",L,[e[6]||(e[6]=(0,a.Lk)("div",{class:"header-card"},[(0,a.Lk)("div",{class:"header-content"},[(0,a.Lk)("h2",null,"ÐœÐ¾Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹"),(0,a.Lk)("p",null,"Ð¡Ð¾Ð·Ð´Ð°Ð²Ð°Ð¹Ñ‚Ðµ Ð¸ ÑƒÐ¿Ñ€Ð°Ð²Ð»ÑÐ¹Ñ‚Ðµ ÑÐ²Ð¾Ð¸Ð¼Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼Ð¸")])],-1)),(0,a.Lk)("div",y,[e[4]||(e[4]=(0,a.Lk)("h3",null,"Ð¡Ð¾Ð·Ð´Ð°Ñ‚ÑŒ Ð½Ð¾Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚",-1)),(0,a.Lk)("div",b,[(0,a.Lk)("div",j,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.newProjectName=t),placeholder:"Ð’Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ð½Ð°Ð·Ð²Ð°Ð½Ð¸Ðµ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°",class:"form-control project-input",onKeyup:e[1]||(e[1]=(0,r.jR)((...t)=>i.createProject&&i.createProject(...t),["enter"]))},null,544),[[r.Jo,n.newProjectName]])]),(0,a.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>i.createProject&&i.createProject(...t)),class:"btn btn-primary add-project-btn",disabled:!n.newProjectName.trim()},[...e[3]||(e[3]=[(0,a.Lk)("span",{class:"btn-icon"},"+",-1),(0,a.eW)(" Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ",-1)])],8,w)])]),0===t.projects.length?((0,a.uX)(),(0,a.CE)("div",$,[...e[5]||(e[5]=[(0,a.Lk)("div",{class:"empty-icon"},"ðŸ“",-1),(0,a.Lk)("h3",null,"ÐŸÐ¾ÐºÐ° Ð½ÐµÑ‚ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²",-1),(0,a.Lk)("p",null,"Ð¡Ð¾Ð·Ð´Ð°Ð¹Ñ‚Ðµ Ð¿ÐµÑ€Ð²Ñ‹Ð¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚ Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ",-1)])])):((0,a.uX)(),(0,a.CE)("div",_,[(0,a.Lk)("div",E,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(t.projects,e=>((0,a.uX)(),(0,a.CE)("div",{key:e.id,class:"project-card card",onClick:s=>t.$router.push(`/project/${e.id}`)},[(0,a.Lk)("div",P,[(0,a.Lk)("h3",null,(0,g.v_)(e.name),1),(0,a.Lk)("span",A,(0,g.v_)(i.formatTime(e.total_time)),1)]),(0,a.Lk)("p",S,"Ð¡Ð¾Ð·Ð´Ð°Ð½: "+(0,g.v_)(i.formatDate(e.created_at)),1)],8,C))),128))])]))])}var R={name:"ProjectList",data(){return{newProjectName:""}},computed:{...(0,p.aH)(["projects"])},methods:{...(0,p.i0)(["createProject","fetchProjects"]),async createProject(){if(this.newProjectName.trim())try{await this.$store.dispatch("createProject",{name:this.newProjectName}),this.newProjectName="",this.$toast?this.$toast.success("ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!"):console.log("ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐ¾Ð·Ð´Ð°Ð½!")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¿Ñ€Ð¸ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",t),this.$toast?this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚"):console.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚")}},formatTime(t){if(!t)return"0Ñ‡ 0Ð¼ 0Ñ";const e=Math.floor(t/3600),s=Math.floor(t%3600/60),r=Math.floor(t%60);return`${e}Ñ‡ ${s}Ð¼ ${r}Ñ`},formatDate(t){if(!t)return"ÐÐµÐ¸Ð·Ð²ÐµÑÑ‚Ð½Ð°Ñ Ð´Ð°Ñ‚Ð°";const e=new Date(t);return e.toLocaleDateString("ru-RU")}},async mounted(){try{await this.fetchProjects()}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²:",t),this.$toast?this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹"):console.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ñ‹")}}};const O=(0,m.A)(R,[["render",I],["__scopeId","data-v-1c1cdc57"]]);var x=O;const X={class:"project-detail"},D={class:"header-section"},U={class:"header-top"},K={class:"left-actions"},J={class:"header-actions"},N={class:"project-info-card"},M={class:"project-title"},W={class:"total-time"},q={class:"time"},H={key:0,class:"loading"},V={class:"card task-input-card"},F={class:"task-form"},B={class:"form-group full-width-input"},Q=["disabled"],z={key:1,class:"card empty-state"},G={key:2},Y={class:"tasks-header"},Z={class:"tasks-list"},tt={class:"task-content"},et={class:"task-header"},st={class:"task-time"},rt={class:"task-controls"},at={class:"timer-controls"},ot=["onClick","disabled"],nt=["onClick"],it={key:0,class:"timer-active-indicator"},ct={class:"task-actions"},lt=["onClick"];function dt(t,e,s,o,n,i){return(0,a.uX)(),(0,a.CE)("div",X,[(0,a.Lk)("div",D,[(0,a.Lk)("div",U,[(0,a.Lk)("div",K,[(0,a.Lk)("button",{onClick:e[0]||(e[0]=e=>t.$router.push("/")),class:"btn back-btn"},"â† ÐÐ°Ð·Ð°Ð´ Ðº Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°Ð¼")]),(0,a.Lk)("div",J,[(0,a.Lk)("button",{onClick:e[1]||(e[1]=(...t)=>i.exportToTxt&&i.exportToTxt(...t)),class:"btn btn-export"},[...e[7]||(e[7]=[(0,a.Lk)("span",{class:"btn-icon"},"ðŸ“„",-1),(0,a.eW)(" Ð­ÐºÑÐ¿Ð¾Ñ€Ñ‚ TXT ",-1)])]),(0,a.Lk)("button",{onClick:e[2]||(e[2]=(...t)=>i.copyToClipboard&&i.copyToClipboard(...t)),class:"btn btn-copy"},[...e[8]||(e[8]=[(0,a.Lk)("span",{class:"btn-icon"},"ðŸ“‹",-1),(0,a.eW)(" ÐšÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð¾Ñ‚Ñ‡ÐµÑ‚ ",-1)])]),(0,a.Lk)("button",{onClick:e[3]||(e[3]=(...t)=>i.deleteProjectHandler&&i.deleteProjectHandler(...t)),class:"btn btn-danger"},[...e[9]||(e[9]=[(0,a.Lk)("span",{class:"btn-icon"},"ðŸ—‘ï¸",-1),(0,a.eW)(" Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚ ",-1)])])])]),(0,a.Lk)("div",N,[(0,a.Lk)("h2",M,(0,g.v_)(n.project.name),1),(0,a.Lk)("div",W,[e[10]||(e[10]=(0,a.Lk)("span",{class:"label"},"ÐžÐ±Ñ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",-1)),(0,a.Lk)("span",q,(0,g.v_)(i.formatTime(n.localTotalTime)),1)])])]),n.loading?((0,a.uX)(),(0,a.CE)("div",H,"Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ°...")):(0,a.Q3)("",!0),(0,a.Lk)("div",V,[e[11]||(e[11]=(0,a.Lk)("h3",null,"Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð½Ð¾Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ",-1)),(0,a.Lk)("div",F,[(0,a.Lk)("div",B,[(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":e[4]||(e[4]=t=>n.newTaskTitle=t),placeholder:"ÐžÐ¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð¿Ð¾Ð´Ñ€Ð¾Ð±Ð½Ð¾...",class:"form-control task-input",rows:"4",onKeyup:e[5]||(e[5]=(0,r.jR)((0,r.D$)((...t)=>i.addTask&&i.addTask(...t),["prevent"]),["enter"]))},"                    ",544),[[r.Jo,n.newTaskTitle]])]),(0,a.Lk)("button",{onClick:e[6]||(e[6]=(...t)=>i.addTask&&i.addTask(...t)),class:"btn btn-primary add-task-btn",disabled:!n.newTaskTitle.trim()}," + Ð”Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ ",8,Q)])]),0===i.projectTasks.length?((0,a.uX)(),(0,a.CE)("div",z,[...e[12]||(e[12]=[(0,a.Lk)("div",{class:"empty-icon"},"ðŸ“",-1),(0,a.Lk)("h3",null,"ÐŸÐ¾ÐºÐ° Ð½ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡",-1),(0,a.Lk)("p",null,"Ð”Ð¾Ð±Ð°Ð²ÑŒÑ‚Ðµ Ð¿ÐµÑ€Ð²ÑƒÑŽ Ð·Ð°Ð´Ð°Ñ‡Ñƒ Ð´Ð»Ñ Ð¾Ñ‚ÑÐ»ÐµÐ¶Ð¸Ð²Ð°Ð½Ð¸Ñ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸",-1)])])):((0,a.uX)(),(0,a.CE)("div",G,[(0,a.Lk)("div",Y,[(0,a.Lk)("h3",null,"Ð—Ð°Ð´Ð°Ñ‡Ð¸ ("+(0,g.v_)(i.projectTasks.length)+")",1)]),(0,a.Lk)("div",Z,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(i.projectTasks,t=>((0,a.uX)(),(0,a.CE)("div",{key:t.id,class:(0,g.C4)(["task-item card",{"task-active":t.is_timer_running}])},[(0,a.Lk)("div",tt,[(0,a.Lk)("div",et,[(0,a.Lk)("h4",null,(0,g.v_)(t.title),1),(0,a.Lk)("span",st,(0,g.v_)(i.formatTime(t.total_time)),1)]),(0,a.Lk)("div",rt,[(0,a.Lk)("div",at,[t.is_timer_running?((0,a.uX)(),(0,a.CE)("button",{key:1,onClick:e=>i.pauseTaskTimer(t.id),class:"btn btn-pause"},[...e[14]||(e[14]=[(0,a.Lk)("span",{class:"btn-icon"},"â¸",-1),(0,a.eW)(" ÐŸÐ°ÑƒÐ·Ð° ",-1)])],8,nt)):((0,a.uX)(),(0,a.CE)("button",{key:0,onClick:e=>i.startTaskTimer(t.id),class:"btn btn-start",disabled:t.is_timer_running},[...e[13]||(e[13]=[(0,a.Lk)("span",{class:"btn-icon"},"â–¶",-1),(0,a.eW)(" Ð¡Ñ‚Ð°Ñ€Ñ‚ ",-1)])],8,ot))]),t.is_timer_running?((0,a.uX)(),(0,a.CE)("div",it,[...e[15]||(e[15]=[(0,a.Lk)("span",{class:"pulse"},null,-1),(0,a.eW)(" Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½... ",-1)])])):(0,a.Q3)("",!0),(0,a.Lk)("div",ct,[(0,a.Lk)("button",{onClick:e=>i.deleteTaskHandler(t.id),class:"btn btn-danger btn-sm"},[...e[16]||(e[16]=[(0,a.Lk)("span",{class:"btn-icon"},"ðŸ—‘ï¸",-1)])],8,lt)])])])],2))),128))])]))])}s(2489),s(116),s(7588),s(8237),s(4603),s(7566),s(8721);var ut={name:"ProjectDetail",data(){return{newTaskTitle:"",project:{},updateInterval:null,loading:!0,debugMode:!1,localTotalTime:0}},computed:{...(0,p.aH)(["projects","tasks"]),...(0,p.L8)(["getTasksByProjectId"]),projectId(){return parseInt(this.$route.params.id)},projectTasks(){return this.getTasksByProjectId(this.projectId)}},watch:{projectTasks:{handler(t){this.localTotalTime=t.reduce((t,e)=>t+(e.total_time||0),0);const e=this.projects.findIndex(t=>t.id===this.projectId);-1!==e&&(this.$store.state.projects[e].total_time=this.localTotalTime)},deep:!0,immediate:!0}},methods:{...(0,p.i0)(["fetchProjects","fetchTasks","startTimer","pauseTimer","createTask","deleteProject","deleteTask"]),async addTask(){if(this.newTaskTitle.trim())try{await this.createTask({title:this.newTaskTitle,project_id:this.projectId}),this.newTaskTitle="",this.$toast&&this.$toast.success("Ð—Ð°Ð´Ð°Ñ‡Ð° ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð´Ð¾Ð±Ð°Ð²Ð»ÐµÐ½Ð°!")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ")}},formatTime(t){if(!t)return"0Ñ‡ 0Ð¼ 0Ñ";const e=Math.floor(t/3600),s=Math.floor(t%3600/60),r=Math.floor(t%60);return`${e}Ñ‡ ${s}Ð¼ ${r}Ñ`},async startTaskTimer(t){try{await this.startTimer(t),this.$toast&&this.$toast.success("Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð·Ð°Ð¿ÑƒÑ‰ÐµÐ½")}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð¿ÑƒÑÐºÐ° Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°:",e),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð¹Ð¼ÐµÑ€")}},async pauseTaskTimer(t){try{await this.pauseTimer(t),this.$toast&&this.$toast.info("Ð¢Ð°Ð¹Ð¼ÐµÑ€ Ð½Ð° Ð¿Ð°ÑƒÐ·Ðµ")}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²ÐºÐ¸ Ñ‚Ð°Ð¹Ð¼ÐµÑ€Ð°:",e),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð¾ÑÑ‚Ð°Ð½Ð¾Ð²Ð¸Ñ‚ÑŒ Ñ‚Ð°Ð¹Ð¼ÐµÑ€")}},generateReportText(){let t=`ÐŸÑ€Ð¾ÐµÐºÑ‚: ${this.project.name}\n`;return t+=`ÐžÐ±Ñ‰ÐµÐµ Ð²Ñ€ÐµÐ¼Ñ: ${this.formatTime(this.localTotalTime)}\n`,t+=`Ð¡Ð³ÐµÐ½ÐµÑ€Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¾: ${(new Date).toLocaleString("ru-RU")}\n\n`,t+="Ð—Ð°Ð´Ð°Ñ‡Ð¸:\n",t+="=".repeat(50)+"\n\n",this.projectTasks.forEach((e,s)=>{t+=`${s+1}. ${e.title}\n`,t+=`   Ð’Ñ€ÐµÐ¼Ñ: ${this.formatTime(e.total_time)}\n`,t+=`   Ð¡Ñ‚Ð°Ñ‚ÑƒÑ: ${e.is_timer_running?"Ð—Ð°Ð¿ÑƒÑ‰ÐµÐ½":"ÐÐ° Ð¿Ð°ÑƒÐ·Ðµ"}\n`,t+="-".repeat(30)+"\n"}),t},exportToTxt(){const t=this.generateReportText(),e=new Blob([t],{type:"text/plain"}),s=URL.createObjectURL(e),r=document.createElement("a");r.href=s,r.download=`${this.project.name.replace(/\s+/g,"_")}_Ð¾Ñ‚Ñ‡ÐµÑ‚.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(s),this.$toast&&this.$toast.success("ÐžÑ‚Ñ‡ÐµÑ‚ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ ÑÐºÑÐ¿Ð¾Ñ€Ñ‚Ð¸Ñ€Ð¾Ð²Ð°Ð½!")},async copyToClipboard(){try{const t=this.generateReportText();await navigator.clipboard.writeText(t),this.$toast&&this.$toast.success("ÐžÑ‚Ñ‡ÐµÑ‚ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°!")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ð½Ð¸Ñ Ð² Ð±ÑƒÑ„ÐµÑ€:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐºÐ¾Ð¿Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒ Ð² Ð±ÑƒÑ„ÐµÑ€ Ð¾Ð±Ð¼ÐµÐ½Ð°")}},async deleteProjectHandler(){if(confirm("Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚? Ð’ÑÐµ Ð·Ð°Ð´Ð°Ñ‡Ð¸ Ð±ÑƒÐ´ÑƒÑ‚ ÑƒÐ´Ð°Ð»ÐµÐ½Ñ‹."))try{await this.deleteProject(this.projectId),this.$toast&&this.$toast.success("ÐŸÑ€Ð¾ÐµÐºÑ‚ ÑƒÐ´Ð°Ð»ÐµÐ½"),this.$router.push("/")}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð¿Ñ€Ð¾ÐµÐºÑ‚")}},async deleteTaskHandler(t){if(confirm("Ð’Ñ‹ ÑƒÐ²ÐµÑ€ÐµÐ½Ñ‹, Ñ‡Ñ‚Ð¾ Ñ…Ð¾Ñ‚Ð¸Ñ‚Ðµ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ?"))try{await this.deleteTask(t),this.$toast&&this.$toast.success("Ð—Ð°Ð´Ð°Ñ‡Ð° ÑƒÐ´Ð°Ð»ÐµÐ½Ð°")}catch(e){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",e),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑƒÐ´Ð°Ð»Ð¸Ñ‚ÑŒ Ð·Ð°Ð´Ð°Ñ‡Ñƒ")}}},async mounted(){try{this.loading=!0,await this.fetchProjects(),await this.fetchTasks(),this.project=this.projects.find(t=>t.id===this.projectId)||{},console.log("ÐŸÑ€Ð¾ÐµÐºÑ‚Ñ‹:",this.projects),console.log("Ð—Ð°Ð´Ð°Ñ‡Ð¸:",this.tasks),console.log("Ð—Ð°Ð´Ð°Ñ‡Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",this.projectTasks),this.updateInterval=setInterval(async()=>{const t=this.projectTasks.filter(t=>t.is_timer_running);t.length>0&&await this.fetchTasks()},1e3)}catch(t){console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð´ÐµÑ‚Ð°Ð»ÐµÐ¹ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",t),this.$toast&&this.$toast.error("ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ Ð·Ð°Ð³Ñ€ÑƒÐ·Ð¸Ñ‚ÑŒ Ð´ÐµÑ‚Ð°Ð»Ð¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°")}finally{this.loading=!1}},beforeUnmount(){this.updateInterval&&clearInterval(this.updateInterval)}};const ht=(0,m.A)(ut,[["render",dt],["__scopeId","data-v-569df1fc"]]);var pt=ht;const kt={class:"login-container"},mt={class:"login-card"},ft={class:"form-group"},Tt={class:"form-group"},vt=["disabled"],gt={class:"register-link"},Lt={key:0,class:"error"};function yt(t,e,s,o,n,i){return(0,a.uX)(),(0,a.CE)("div",kt,[(0,a.Lk)("div",mt,[e[5]||(e[5]=(0,a.Lk)("h2",null,"Ð’Ñ…Ð¾Ð´ Ð² ÑÐ¸ÑÑ‚ÐµÐ¼Ñƒ",-1)),(0,a.Lk)("form",{onSubmit:e[3]||(e[3]=(0,r.D$)((...t)=>i.handleLogin&&i.handleLogin(...t),["prevent"]))},[(0,a.Lk)("div",ft,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.username=t),type:"text",placeholder:"Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ",required:""},null,512),[[r.Jo,n.username]])]),(0,a.Lk)("div",Tt,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.password=t),type:"password",placeholder:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",required:""},null,512),[[r.Jo,n.password]])]),(0,a.Lk)("button",{type:"submit",disabled:n.loading},"Ð’Ð¾Ð¹Ñ‚Ð¸",8,vt),(0,a.Lk)("p",gt,[e[4]||(e[4]=(0,a.eW)(" ÐÐµÑ‚ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚Ð°? ",-1)),(0,a.Lk)("a",{href:"#",onClick:e[2]||(e[2]=(0,r.D$)(e=>t.$router.push("/register"),["prevent"]))},"Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ")])],32),n.error?((0,a.uX)(),(0,a.CE)("p",Lt,(0,g.v_)(n.error),1)):(0,a.Q3)("",!0)])])}var bt={name:"UserLogin",data(){return{username:"",password:"",loading:!1,error:""}},methods:{...(0,p.i0)(["login"]),async handleLogin(){this.loading=!0,this.error="";try{await this.login({username:this.username,password:this.password}),this.$router.push("/")}catch(t){this.error="ÐÐµÐ²ÐµÑ€Ð½Ð¾Ðµ Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ Ð¸Ð»Ð¸ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ"}finally{this.loading=!1}}}};const jt=(0,m.A)(bt,[["render",yt],["__scopeId","data-v-013bd1b2"]]);var wt=jt;const $t={class:"register-container"},_t={class:"register-card"},Et={class:"form-group"},Ct={class:"form-group"},Pt={class:"form-group"},At=["disabled"],St={class:"login-link"},It={key:0,class:"error"};function Rt(t,e,s,o,n,i){return(0,a.uX)(),(0,a.CE)("div",$t,[(0,a.Lk)("div",_t,[e[6]||(e[6]=(0,a.Lk)("h2",null,"Ð ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ñ",-1)),(0,a.Lk)("form",{onSubmit:e[4]||(e[4]=(0,r.D$)((...t)=>i.handleRegister&&i.handleRegister(...t),["prevent"]))},[(0,a.Lk)("div",Et,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[0]||(e[0]=t=>n.username=t),type:"text",placeholder:"Ð˜Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ",required:""},null,512),[[r.Jo,n.username]])]),(0,a.Lk)("div",Ct,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>n.password=t),type:"password",placeholder:"ÐŸÐ°Ñ€Ð¾Ð»ÑŒ",required:""},null,512),[[r.Jo,n.password]])]),(0,a.Lk)("div",Pt,[(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>n.confirmPassword=t),type:"password",placeholder:"ÐŸÐ¾Ð´Ñ‚Ð²ÐµÑ€Ð´Ð¸Ñ‚Ðµ Ð¿Ð°Ñ€Ð¾Ð»ÑŒ",required:""},null,512),[[r.Jo,n.confirmPassword]])]),(0,a.Lk)("button",{type:"submit",disabled:n.loading},"Ð—Ð°Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð¸Ñ€Ð¾Ð²Ð°Ñ‚ÑŒÑÑ",8,At),(0,a.Lk)("p",St,[e[5]||(e[5]=(0,a.eW)(" Ð£Ð¶Ðµ ÐµÑÑ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚? ",-1)),(0,a.Lk)("a",{href:"#",onClick:e[3]||(e[3]=(0,r.D$)(e=>t.$router.push("/login"),["prevent"]))},"Ð’Ð¾Ð¹Ñ‚Ð¸")])],32),n.error?((0,a.uX)(),(0,a.CE)("p",It,(0,g.v_)(n.error),1)):(0,a.Q3)("",!0)])])}var Ot={name:"UserRegister",data(){return{username:"",password:"",confirmPassword:"",loading:!1,error:""}},methods:{...(0,p.i0)(["register","login"]),async handleRegister(){if(this.password===this.confirmPassword){this.loading=!0,this.error="";try{await this.register({username:this.username,password:this.password}),await this.login({username:this.username,password:this.password}),this.$router.push("/")}catch(t){this.error="ÐÐµ ÑƒÐ´Ð°Ð»Ð¾ÑÑŒ ÑÐ¾Ð·Ð´Ð°Ñ‚ÑŒ Ð°ÐºÐºÐ°ÑƒÐ½Ñ‚. Ð’Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾, Ð¸Ð¼Ñ Ð¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÐµÐ»Ñ ÑƒÐ¶Ðµ Ð·Ð°Ð½ÑÑ‚Ð¾."}finally{this.loading=!1}}else this.error="ÐŸÐ°Ñ€Ð¾Ð»Ð¸ Ð½Ðµ ÑÐ¾Ð²Ð¿Ð°Ð´Ð°ÑŽÑ‚"}}};const xt=(0,m.A)(Ot,[["render",Rt],["__scopeId","data-v-d9d9b112"]]);var Xt=xt,Dt=s(4373);const Ut="https://rusla9m5.beget.tech/api";var Kt=(0,p.y$)({state:{projects:[],tasks:[],timeEntries:[]},mutations:{SET_TOKEN(t,e){t.token=e,localStorage.setItem("token",e),Dt.A.defaults.headers.common["Authorization"]=`Bearer ${e}`},CLEAR_TOKEN(t){t.token="",localStorage.removeItem("token"),delete Dt.A.defaults.headers.common["Authorization"]},SET_USER(t,e){t.user=e},SET_PROJECTS(t,e){t.projects=e},SET_TASKS(t,e){t.tasks=e},SET_TIME_ENTRIES(t,e){t.timeEntries=e},ADD_PROJECT(t,e){t.projects.push(e)},ADD_TASK(t,e){t.tasks.push(e)}},actions:{async login({commit:t},e){try{const s=await Dt.A.post(`${Ut}/login`,e);return t("SET_TOKEN",s.data.access_token),s.data}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð²Ñ…Ð¾Ð´Ð°:",s),s}},async register(t,e){try{const t=await Dt.A.post(`${Ut}/register`,e);return t.data}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ñ€ÐµÐ³Ð¸ÑÑ‚Ñ€Ð°Ñ†Ð¸Ð¸:",s),s}},async logout({commit:t}){t("CLEAR_TOKEN"),t("SET_USER",null)},async fetchProjects({commit:t}){try{const e=await Dt.A.get(`${Ut}/projects/`);t("SET_PROJECTS",e.data)}catch(e){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð¾Ð²:",e),e}},async createProject({commit:t},e){try{const s=await Dt.A.post(`${Ut}/projects/`,e);return t("ADD_PROJECT",s.data),s.data}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",s),s}},async fetchTasks({commit:t}){try{console.log("Ð—Ð°Ð³Ñ€ÑƒÐ·ÐºÐ° Ð·Ð°Ð´Ð°Ñ‡ Ð¸Ð·:",`${Ut}/tasks/`);const e=await Dt.A.get(`${Ut}/tasks/`);console.log("ÐžÑ‚Ð²ÐµÑ‚ Ð·Ð°Ð´Ð°Ñ‡:",e.data),t("SET_TASKS",e.data)}catch(e){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° Ð·Ð°Ð³Ñ€ÑƒÐ·ÐºÐ¸ Ð·Ð°Ð´Ð°Ñ‡:",e),e}},async createTask({commit:t},e){try{const s=await Dt.A.post(`${Ut}/tasks/`,e);return t("ADD_TASK",s.data),s.data}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",s),s}},async startTimer({dispatch:t},e){try{await Dt.A.post(`${Ut}/timer/start/${e}`),await t("fetchTasks")}catch(s){throw console.error("Error starting timer:",s),s}},async pauseTimer({dispatch:t},e){try{await Dt.A.post(`${Ut}/timer/pause/${e}`),await t("fetchTasks")}catch(s){throw console.error("Error pausing timer:",s),s}},async deleteProject({commit:t},e){try{await Dt.A.delete(`${Ut}/projects/${e}`),t("SET_PROJECTS",this.state.projects.filter(t=>t.id!==e))}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð¿Ñ€Ð¾ÐµÐºÑ‚Ð°:",s),s}},async deleteTask({commit:t},e){try{await Dt.A.delete(`${Ut}/tasks/${e}`),t("SET_TASKS",this.state.tasks.filter(t=>t.id!==e))}catch(s){throw console.error("ÐžÑˆÐ¸Ð±ÐºÐ° ÑƒÐ´Ð°Ð»ÐµÐ½Ð¸Ñ Ð·Ð°Ð´Ð°Ñ‡Ð¸:",s),s}}},getters:{isAuthenticated:t=>!!t.token,getTasksByProjectId:t=>e=>t.tasks.filter(t=>t.project_id===e),getActiveTimer:t=>e=>{const s=t.tasks.find(t=>t.id===e);return!!s&&s.is_timer_running}}});const Jt=[{path:"/",name:"Home",component:x,meta:{requiresAuth:!0}},{path:"/project/:id",name:"ProjectDetail",component:pt,props:!0,meta:{requiresAuth:!0}},{path:"/login",name:"Login",component:wt},{path:"/register",name:"Register",component:Xt}],Nt=(0,v.aE)({history:(0,v.LA)("/timer_tracker/"),routes:Jt});Nt.beforeEach((t,e,s)=>{t.matched.some(t=>t.meta.requiresAuth)?Kt.getters.isAuthenticated?s():s("/login"):s()});var Mt=Nt,Wt=s(7411);s(7917);const qt=(0,r.Ef)(T);qt.use(Kt),qt.use(Mt),qt.use(Wt.Ay,{transition:"Vue-Toastification__bounce",maxToasts:20,newestOnTop:!0}),qt.mount("#app")}},e={};function s(r){var a=e[r];if(void 0!==a)return a.exports;var o=e[r]={exports:{}};return t[r].call(o.exports,o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,r,a,o){if(!r){var n=1/0;for(d=0;d<t.length;d++){r=t[d][0],a=t[d][1],o=t[d][2];for(var i=!0,c=0;c<r.length;c++)(!1&o||n>=o)&&Object.keys(s.O).every(function(t){return s.O[t](r[c])})?r.splice(c--,1):(i=!1,o<n&&(n=o));if(i){t.splice(d--,1);var l=a();void 0!==l&&(e=l)}}return e}o=o||0;for(var d=t.length;d>0&&t[d-1][2]>o;d--)t[d]=t[d-1];t[d]=[r,a,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var a,o,n=r[0],i=r[1],c=r[2],l=0;if(n.some(function(e){return 0!==t[e]})){for(a in i)s.o(i,a)&&(s.m[a]=i[a]);if(c)var d=c(s)}for(e&&e(r);l<n.length;l++)o=n[l],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(d)},r=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],function(){return s(4712)});r=s.O(r)})();
//# sourceMappingURL=app.967fb630.js.map